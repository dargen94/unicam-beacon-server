<div>
  <h1>Gestione dispositivi</h1>
  <p>In questa pagina hai la possibilit√† aggiungere nuovi dispositi,
  sia di ingresso che di uscita, e registrarne di nuovi</p>
  <input type="button" value="Aggiorna iBeacons" ng-click="aggiornaiBeacons()">
  <h2>Elenco iBeacons non registrati</h2>
  <table>
    <tr>
      <th>ID</th>
      <th>Uuid</th>
      <th>Major</th>
      <th>Minor</th>
      <th>Azioni</th>
    </tr>
    <tr data-ng-repeat="beacon in beacons">
      <td>{{beacon.id}}</td>
      <td>{{beacon.uuid}}</td>
      <td>{{beacon.major}}</td>
      <td>{{beacon.minor}}</td>
      <td>
        <button data-ng-click="eliminaBeacon(beacon.id)">Elimina</button> -
        <a href="#/registra_ibeacon/{{beacon.id}}">Registra</a></td>
    </tr>
  </table>
  <hr/>
  <h2>Aggiungi un nuovo dispositivo</h2>
  <form ng-submit="aggiungi()">
    <table>
      <tr>
        <td>Nome: </td><td><input ng-model="dispositivo.nome" type="text" required/></td>
      </tr>
      <tr>
        <td>Descrizione: </td><td><input ng-model="dispositivo.descrizione" type="text" required/></td>
      </tr>
      <tr>
        <td>IO: </td>
        <td>
          <select data-ng-model="dispositivo.io" data-ng-change="cambia_tipo()">
            <option value="input">Input</option>
            <option value="output">Output</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>Tipo: </td>
        <td>
          <select data-ng-model="dispositivo.type" required>
            <option data-ng-repeat="io in ios|IOFilter:dispositivo.io" value="{{io.nome}}">{{io.nome}}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td> <td><input type="submit" value="Aggiungi"/></td>
      </tr>
    </table>
  </form>
  <hr/>
  <h2>Elenco dispositivi</h2>
  <input type="button" value="Aggiorna dispositivi" ng-click="aggiornaDispositivi()">
  <div data-ng-repeat="dispositivo in dispositivi">
    <h3>{{dispositivo.nome}}</h3>
    <p>ID: {{dispositivo.id}}</p>
    <p>IO: {{dispositivo.io}}</p>
    <p>Tipo: {{dispositivo.type}}</p>
    <p>Descrizione: {{dispositivo.descrizione}}</p>
    <a href="">Elimina</a> - <a href="">Blocca</a> - <a href="">Modifica</a>
  </div>
</div>
